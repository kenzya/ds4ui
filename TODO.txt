TODO
- switch to enums if suitable
- implement IoC container